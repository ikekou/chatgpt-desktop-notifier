(()=>{"use strict";chrome.runtime.onMessage.addListener(((o,e,t)=>(console.log("ğŸ“¨ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã—ã¾ã—ãŸ:",o),"SHOW_NOTIFICATION"===o.type?(console.log("ğŸ¯ SHOW_NOTIFICATION ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡¦ç†ã—ã¾ã™"),function(o){console.log("ğŸ“£ é€šçŸ¥ã‚’ä½œæˆã—ã¾ã™:",o);const e=`chatgpt-notification-${Date.now()}`;console.log("ğŸ· ç”Ÿæˆã•ã‚ŒãŸé€šçŸ¥ID:",e);try{chrome.notifications.create(e,{type:"basic",iconUrl:chrome.runtime.getURL("icons/icon128.png"),title:"ChatGPT Response",message:o,priority:2},(o=>{chrome.runtime.lastError?console.error("âŒ é€šçŸ¥ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ:",chrome.runtime.lastError):console.log("âœ… é€šçŸ¥ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸã€‚ID:",o)})),setTimeout((()=>{chrome.notifications.clear(e,(o=>{console.log(`ğŸ§¹ é€šçŸ¥ã®ã‚¯ãƒªã‚¢ ${o?"æˆåŠŸ":"å¤±æ•—"}:`,e)}))}),5e3)}catch(o){console.error("âŒ äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:",o)}}(o.text),t({success:!0})):(console.log("âš ï¸ æœªçŸ¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ã§ã™:",o.type),t({success:!1,error:"Unknown message type"})),!0)))})();