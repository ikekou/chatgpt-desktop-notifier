(()=>{"use strict";const e=document.getElementById("soundEnabled"),t=document.getElementById("desktopEnabled"),n=document.getElementById("testSound"),o=document.getElementById("testNotification"),c=document.getElementById("status");function s(){const n={soundEnabled:e.checked,desktopEnabled:t.checked};chrome.storage.sync.set(n,(()=>{d("è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ")}))}function d(e){c.textContent=e,c.classList.add("show"),setTimeout((()=>{c.classList.remove("show")}),2e3)}chrome.storage.sync.get(["soundEnabled","desktopEnabled"],(n=>{e.checked=n.soundEnabled??!0,t.checked=n.desktopEnabled??!0})),e.addEventListener("change",s),t.addEventListener("change",s),n.addEventListener("click",(function(){e.checked?(function(){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(440,e.currentTime),n.gain.setValueAtTime(.1,e.currentTime),t.start(),t.stop(e.currentTime+.2)}(),d("ğŸ”Š éŸ³å£°é€šçŸ¥ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã—ãŸ")):d("âš ï¸ éŸ³å£°é€šçŸ¥ãŒç„¡åŠ¹ã«ãªã£ã¦ã„ã¾ã™")})),o.addEventListener("click",(function(){if(console.log("ğŸ”” ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€šçŸ¥ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™"),!t.checked)return console.log("âš ï¸ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€šçŸ¥ãŒç„¡åŠ¹ã«ãªã£ã¦ã„ã¾ã™"),void d("âš ï¸ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€šçŸ¥ãŒç„¡åŠ¹ã«ãªã£ã¦ã„ã¾ã™");console.log("ğŸ“¤ background.jsã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã™"),chrome.runtime.sendMessage({type:"SHOW_NOTIFICATION",text:"ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆé€šçŸ¥ã§ã™ã€‚ChatGPT Desktop Notifierã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ã€‚"},(e=>{console.log("ğŸ“¥ background.jsã‹ã‚‰ã®å¿œç­”:",e),chrome.runtime.lastError&&(console.error("âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:",chrome.runtime.lastError),d("âš ï¸ é€šçŸ¥ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ"))})),d("ğŸ’¬ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€šçŸ¥ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã—ãŸ")}))})();